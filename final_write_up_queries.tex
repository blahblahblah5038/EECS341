\documentclass{article}
\author{Wesley Gould, John Clark, and Elizabeth McNany}
\date{17 December 2011}
\title{EECS 341 Final Report Difficult Queries}

\begin {document}
\maketitle


\def\ojoin{\setbox0=\hbox{$\bowtie$}%
  \rule[-.02ex]{.25em}{.4pt}\llap{\rule[\ht0]{.25em}{.4pt}}}
\def\leftouterjoin{\mathbin{\ojoin\mkern-5.8mu\bowtie}}


\section{Queries We Used}

The various types of queries used in our project are listed below in plain English.  Most of them are fairly simple due to our heavy use of keys, but a couple are slightly more complicated.

We had queries to: \newline
Add, edit, or delete a Contact.  \newline
Get a list of contacts (optionally matching a pid) and also their information from the member table (if they are also a member). \newline
Convert from caseid to pid. \newline
Check if a person is a contact. \newline
Add, edit, or delete a Member. \newline
Check if a person is a member.  \newline
Get a list of member (optionally matching a pid) and also their information from the contact table (if they are also a contact). \newline
Add, edit, or delete a Officer.  \newline
Get a listing of the full officer history, including all fields from the contacts, officer\_history and officer\_positions tables. \newline
Add, edit, or delete a Officer Position. \newline
Check if a person was an officer. \newline
Add, edit, or delete a Stabilizer. \newline
Add, edit, or delete a Arrow. \newline
Add, edit, or delete a Equipment. \newline
Add, edit, or delete a Riser. \newline
Add, edit, or delete a Limb. \newline
Add, edit, or delete a Loan. \newline
View all equipment. \newline
See if a piece of equipment is checked out. \newline
Check in a piece of equipment. \newline
Add an entry to the tracelog. \newline
View the tracelog by user, by action or the whole tracelog. \newline
See if a file exists. \newline
Find a file's fid given the name, description or owners. \newline
List and edit the file permissions of a file. \newline
Add, edit, or delete a Score. \newline

\section{5 Hardest Queries}

Again due to our heavy use of keys, there aren't many difficult queries, and most of the hard ones are just joins on a key.  Below are what we think to be the most difficult.

Our five hardest queries were:\newline

\begin{enumerate}
\item Get a list of contacts (optionally matching a pid) and also their information from the member table (if they are also a member). 
\item Convert from caseid to pid. 
\item Get a list of member (optionally matching a pid) and also their information from the contact table (if they are also a contact). 
\item Get a listing of the officerhistory, including all fields from the contacts, officer\_history and officer\_positions tables between a start date and end date. 
\item Get a listing of the full officer history, including all fields from the contacts, officer\_history and officer\_positions. 
\end{enumerate}
\subsection{SQL}

\begin{enumerate}

\item SELECT * FROM contact LEFT JOIN member ON contact.pid=member.pid WHERE pid=contact.pid
\item SELECT pid FROM member WHERE netid=caseid
\item SELECT * FROM member LEFT JOIN contact ON member.pid = contact.pid WHERE member.pid=pid
\item SELECT * FROM officer\_history H, officer\_positions P, contact C WHERE H.pos\_id = P.pos\_id AND H.pid = C.pid
\item SELECT * FROM officer\_history H, officer\_positions P, contact C WHERE H.pos\_id = P.pos\_id AND H.pid = C.pid AND CURDATE() BETWEEN start\_date AND end\_date

\end{enumerate}

\subsection{RA}

\begin{enumerate}
\item $\left(\sigma_{pid=contact.pid} contact \right) \leftouterjoin_{contact.pid=member.pid} member$  
\item $\pi_{member.pid}\left(\sigma_{member.netid=caseid} member\right)$
\item $\left(\sigma_{pid=member.pid} member \right) \leftouterjoin_{contact.pid=member.pid} contact$
\item 
\item
\end{enumerate}

\subsection{RC}

\end{document}
